Проект для сборки патчей для Морских Титанов
-----------------------------------

### Требуется
- Visual Studio 2019

### Как менять значения
Переменные (хп, урон, скорость, и т.д.) имеют разный размер в байтах: 1, 2 и 4 байт.__
Например строки:__
    patch.WriteByte((void *)0x007C0980, 123); // SI IONFIELD dep
Означает перезапись значения размером 1 байт по адресу 0x007C0980 (оттуда игрой считывается id исследования, которое должно быть изучено) на значение 123. Максимальное число для 1 байта = 255.

    patch.WriteU16((void *)0x004BB5B0, 0xCA01); // Half armor T4
Означает перезапись значения размером 2 байта по адресу 0x004BB5B0 (здесь изменён сам код программы, а не значение переменной) на значение 0xCA01 (можно написать не в 16-ричном виде, а в 10-ричном, будет 51 713). Максимальное число для 2 байт = 65 535.
    
    patch.WriteU32((void *)0x007E4428, 1000);  // Pulsar HP
Означает перезапись значения размером 4 байта по адресу 0x007E4428 (оттуда игрой считывается хп Пульсара) на значение 1000. Максимальное число для 4 байт = 4 294 967 295.

### Как собрать патч :
1. Открыть проект plugin.sln в Visual Studio
2. Сборка -> Собрать решение (F7)

## Как активировать патчи
1. Положить d3drm.dll в игровую папку (1 раз, это механизм загрузки патчей).
2. Создать папку 'plugins' и положить туда STDLL.asi (после каждого изменения - это сам патч).

## Настроить автоматическое перекладывание результирующих файлов в папки игры (опционально):
Проект -> Свойства: 'имя проекта' -> События сборки -> Событие после сборки -> Командная строка -> <Изменить> (по стрелке справа)

Вписать 2 строки, внеся изменения в пути:

copy "$(OutputPath)STDLL.asi" "C:\GOG Games\Submarine Titans\plugins"

copy "(Путь к папке с проектом)\STDLL\Release\d3drm.dll" "C:\GOG Games\Submarine Titans"


## Справочная информация
В эксель файле ST.xlsx собраны адреса начала областей с параметрами юнитов и др. в .exe игры.

Без IDA PRO можно менять значения, которые уже есть в проекте. С ней возможно увидеть адрес недостающей переменной, ориентируясь по эксель файлу, и добавить её.
